{"version":3,"file":"gallery.mjs","sources":["../../../projects/gallery/src/lib/gallery.service.ts","../../../projects/gallery/src/lib/gallery.component.ts","../../../projects/gallery/src/lib/gallery.module.ts","../../../projects/gallery/src/public-api.ts","../../../projects/gallery/src/gallery.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class GalleryService {\n\n  constructor() { }\n}\n","import {AfterViewInit, Component, OnInit, ViewChild, ViewEncapsulation} from '@angular/core';\nimport { SwiperComponent } from \"swiper/angular\";\n\n// import Swiper core and required modules\nimport SwiperCore, {Pagination, SwiperOptions, Autoplay} from \"swiper\";\n\n// install Swiper modules\nSwiperCore.use([Pagination, Autoplay]);\n\n@Component({\n  selector: 'lib-gallery',\n  template: `\n      <swiper #swiper [config]=\"config\" (touchStart)=\"stopAnimation()\" (slideChange)=\"onSlideChange($event)\"\n              (touchEnd)=\"resumeAnimation()\"class=\"mySwiper\">\n          <ng-template swiperSlide>Slide 1</ng-template\n          ><ng-template swiperSlide>Slide 2</ng-template\n      ><ng-template swiperSlide>Slide 3</ng-template\n      ><ng-template swiperSlide>Slide 4</ng-template\n      ><ng-template swiperSlide>Slide 5</ng-template>\n      </swiper>\n  `,\n  styleUrls: ['./styles.scss'],\n    encapsulation: ViewEncapsulation.None,\n})\nexport class GalleryComponent implements OnInit, AfterViewInit {\n    @ViewChild('swiper', { static: false }) swiper?: SwiperComponent;\n\n    bulletAnimation: Animation | undefined;\n    animationKeyframes = [\n        // { transform: 'scaleX(0)' },\n        // { transform: 'scaleX(1)' },\n        { width: '0%' },\n        { width: '100%' }\n    ];\n\n    animationTiming = {\n        duration: 3000,\n    };\n\n    el: Element | undefined;\n    currentBullet: Element | null = null;\n\n\n\n    config: SwiperOptions = {\n        // slidesPerView: 1,\n        // autoHeight: true,\n        autoplay: {\n            delay: 3000,//animation과 시간 맞춰줘야함,\n            disableOnInteraction: false,\n        },\n        // effect: 'slide',\n        pagination: {\n            clickable: true,\n            // renderBullet: function (index, className) {\n            //     console.log('renderBullet', index, className);\n            //     return '<div class=\"' + className + '\"><div class=\"progress\"></div>'  + '</div>';\n            // }\n        }\n    }\n    onSwiperPause(ev: any){\n        console.log('onSwiperPause:', ev, this.swiper );\n\n    }\n    onSwiper(swiper: any) {\n        console.log(swiper);\n    }\n    onSlideChange(ev: any) {\n        console.log('slide change', ev);\n        this.renderBulletAnimation();\n\n    }\n  constructor() { }\n\n    stopAnimation(){\n        console.log('tick', this.bulletAnimation)\n        this?.bulletAnimation?.pause();\n    }\n\n    resumeAnimation(){\n        this?.bulletAnimation?.cancel();\n        this?.bulletAnimation?.play();\n    }\n\n    renderBulletAnimation(){\n        this.bulletAnimation?.cancel();\n        this.currentBullet = this.el!.querySelector('.swiper-pagination-bullet-active');\n        this.bulletAnimation = this.currentBullet?.animate(this.animationKeyframes, {\n            pseudoElement: '::after',\n            duration: 3000,\n            fill: 'forwards',\n        });\n        console.log('play')\n    }\n\n    ngAfterViewInit() {\n\n        this.el = this.swiper?.swiperRef.el;\n        this.renderBulletAnimation();\n    }\n\n    ngOnInit(): void {\n\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { GalleryComponent } from './gallery.component';\nimport {SwiperModule} from \"swiper/angular\";\n\n\n\n@NgModule({\n  declarations: [\n    GalleryComponent\n  ],\n  imports: [\n      SwiperModule\n  ],\n  exports: [\n    GalleryComponent\n  ]\n})\nexport class GalleryModule { }\n","/*\n * Public API Surface of gallery\n */\n\nexport * from './lib/gallery.service';\nexport * from './lib/gallery.component';\nexport * from './lib/gallery.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":";;;;;;MAKa,cAAc,CAAA;AAEzB,IAAA,WAAA,GAAA,GAAiB;;2GAFN,cAAc,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,UAAA,EAAA,CAAA,CAAA;AAAd,cAAA,CAAA,KAAA,GAAA,EAAA,CAAA,qBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,cAAc,cAFb,MAAM,EAAA,CAAA,CAAA;2FAEP,cAAc,EAAA,UAAA,EAAA,CAAA;kBAH1B,UAAU;AAAC,YAAA,IAAA,EAAA,CAAA;AACV,oBAAA,UAAU,EAAE,MAAM;AACnB,iBAAA,CAAA;;;ACED;AACA,UAAU,CAAC,GAAG,CAAC,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC,CAAC;MAiB1B,gBAAgB,CAAA;AAgD3B,IAAA,WAAA,GAAA;AA5CE,QAAA,IAAA,CAAA,kBAAkB,GAAG;;;YAGjB,EAAE,KAAK,EAAE,IAAI,EAAE;YACf,EAAE,KAAK,EAAE,MAAM,EAAE;SACpB,CAAC;AAEF,QAAA,IAAA,CAAA,eAAe,GAAG;AACd,YAAA,QAAQ,EAAE,IAAI;SACjB,CAAC;QAGF,IAAa,CAAA,aAAA,GAAmB,IAAI,CAAC;AAIrC,QAAA,IAAA,CAAA,MAAM,GAAkB;;;AAGpB,YAAA,QAAQ,EAAE;AACN,gBAAA,KAAK,EAAE,IAAI;AACX,gBAAA,oBAAoB,EAAE,KAAK;AAC9B,aAAA;;AAED,YAAA,UAAU,EAAE;AACR,gBAAA,SAAS,EAAE,IAAI;;;;;AAKlB,aAAA;SACJ,CAAA;KAac;AAZf,IAAA,aAAa,CAAC,EAAO,EAAA;QACjB,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,EAAE,EAAE,IAAI,CAAC,MAAM,CAAE,CAAC;KAEnD;AACD,IAAA,QAAQ,CAAC,MAAW,EAAA;AAChB,QAAA,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;KACvB;AACD,IAAA,aAAa,CAAC,EAAO,EAAA;AACjB,QAAA,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE,EAAE,CAAC,CAAC;QAChC,IAAI,CAAC,qBAAqB,EAAE,CAAC;KAEhC;IAGD,aAAa,GAAA;QACT,OAAO,CAAC,GAAG,CAAC,MAAM,EAAE,IAAI,CAAC,eAAe,CAAC,CAAA;AACzC,QAAA,IAAI,EAAE,eAAe,EAAE,KAAK,EAAE,CAAC;KAClC;IAED,eAAe,GAAA;AACX,QAAA,IAAI,EAAE,eAAe,EAAE,MAAM,EAAE,CAAC;AAChC,QAAA,IAAI,EAAE,eAAe,EAAE,IAAI,EAAE,CAAC;KACjC;IAED,qBAAqB,GAAA;AACjB,QAAA,IAAI,CAAC,eAAe,EAAE,MAAM,EAAE,CAAC;QAC/B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,EAAG,CAAC,aAAa,CAAC,kCAAkC,CAAC,CAAC;AAChF,QAAA,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,aAAa,EAAE,OAAO,CAAC,IAAI,CAAC,kBAAkB,EAAE;AACxE,YAAA,aAAa,EAAE,SAAS;AACxB,YAAA,QAAQ,EAAE,IAAI;AACd,YAAA,IAAI,EAAE,UAAU;AACnB,SAAA,CAAC,CAAC;AACH,QAAA,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAA;KACtB;IAED,eAAe,GAAA;QAEX,IAAI,CAAC,EAAE,GAAG,IAAI,CAAC,MAAM,EAAE,SAAS,CAAC,EAAE,CAAC;QACpC,IAAI,CAAC,qBAAqB,EAAE,CAAC;KAChC;IAED,QAAQ,GAAA;KAET;;6GA/EU,gBAAgB,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,SAAA,EAAA,CAAA,CAAA;AAAhB,gBAAA,CAAA,IAAA,GAAA,EAAA,CAAA,oBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,IAAA,EAAA,gBAAgB,EAbjB,QAAA,EAAA,aAAA,EAAA,WAAA,EAAA,CAAA,EAAA,YAAA,EAAA,QAAA,EAAA,KAAA,EAAA,IAAA,EAAA,SAAA,EAAA,CAAA,QAAA,CAAA,EAAA,WAAA,EAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,EAAA,EAAA,QAAA,EAAA,CAAA;;;;;;;;;AAST,EAAA,CAAA,EAAA,QAAA,EAAA,IAAA,EAAA,MAAA,EAAA,CAAA,85VAAA,CAAA,EAAA,YAAA,EAAA,CAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,eAAA,EAAA,QAAA,EAAA,kBAAA,EAAA,MAAA,EAAA,CAAA,SAAA,EAAA,IAAA,EAAA,WAAA,EAAA,mBAAA,EAAA,cAAA,EAAA,OAAA,EAAA,SAAA,EAAA,sBAAA,EAAA,gBAAA,EAAA,QAAA,EAAA,mBAAA,EAAA,OAAA,EAAA,QAAA,EAAA,gCAAA,EAAA,WAAA,EAAA,KAAA,EAAA,oBAAA,EAAA,oBAAA,EAAA,UAAA,EAAA,YAAA,EAAA,gBAAA,EAAA,kBAAA,EAAA,QAAA,EAAA,aAAA,EAAA,cAAA,EAAA,eAAA,EAAA,yBAAA,EAAA,MAAA,EAAA,gBAAA,EAAA,oBAAA,EAAA,gBAAA,EAAA,sBAAA,EAAA,oBAAA,EAAA,mBAAA,EAAA,qBAAA,EAAA,0BAAA,EAAA,eAAA,EAAA,cAAA,EAAA,YAAA,EAAA,YAAA,EAAA,eAAA,EAAA,aAAA,EAAA,YAAA,EAAA,iBAAA,EAAA,cAAA,EAAA,cAAA,EAAA,gBAAA,EAAA,WAAA,EAAA,0BAAA,EAAA,0BAAA,EAAA,+BAAA,EAAA,qBAAA,EAAA,mBAAA,EAAA,YAAA,EAAA,iBAAA,EAAA,qBAAA,EAAA,YAAA,EAAA,eAAA,EAAA,0BAAA,EAAA,qBAAA,EAAA,eAAA,EAAA,qBAAA,EAAA,MAAA,EAAA,sBAAA,EAAA,cAAA,EAAA,mBAAA,EAAA,wBAAA,EAAA,mBAAA,EAAA,QAAA,EAAA,gBAAA,EAAA,gBAAA,EAAA,cAAA,EAAA,WAAA,EAAA,gBAAA,EAAA,mBAAA,EAAA,kBAAA,EAAA,wBAAA,EAAA,YAAA,EAAA,iBAAA,EAAA,kBAAA,EAAA,2BAAA,EAAA,mBAAA,EAAA,qBAAA,EAAA,gBAAA,EAAA,yBAAA,EAAA,gBAAA,EAAA,yBAAA,EAAA,cAAA,EAAA,oBAAA,EAAA,gBAAA,EAAA,sBAAA,EAAA,MAAA,EAAA,UAAA,EAAA,YAAA,EAAA,iBAAA,EAAA,YAAA,EAAA,YAAA,EAAA,YAAA,EAAA,gBAAA,EAAA,aAAA,EAAA,gBAAA,EAAA,SAAA,EAAA,UAAA,EAAA,MAAA,EAAA,YAAA,EAAA,UAAA,EAAA,QAAA,EAAA,MAAA,EAAA,OAAA,EAAA,IAAA,EAAA,YAAA,EAAA,YAAA,EAAA,WAAA,EAAA,SAAA,EAAA,QAAA,CAAA,EAAA,OAAA,EAAA,CAAA,mBAAA,EAAA,mBAAA,EAAA,aAAA,EAAA,SAAA,EAAA,mBAAA,EAAA,WAAA,EAAA,UAAA,EAAA,eAAA,EAAA,cAAA,EAAA,eAAA,EAAA,gBAAA,EAAA,eAAA,EAAA,YAAA,EAAA,eAAA,EAAA,cAAA,EAAA,wBAAA,EAAA,uBAAA,EAAA,YAAA,EAAA,iBAAA,EAAA,OAAA,EAAA,WAAA,EAAA,aAAA,EAAA,SAAA,EAAA,UAAA,EAAA,YAAA,EAAA,SAAA,EAAA,aAAA,EAAA,MAAA,EAAA,UAAA,EAAA,eAAA,EAAA,gBAAA,EAAA,SAAA,EAAA,gBAAA,EAAA,gBAAA,EAAA,gBAAA,EAAA,gBAAA,EAAA,gBAAA,EAAA,gBAAA,EAAA,mBAAA,EAAA,gBAAA,EAAA,kBAAA,EAAA,gBAAA,EAAA,kBAAA,EAAA,UAAA,EAAA,gBAAA,EAAA,UAAA,EAAA,iBAAA,EAAA,QAAA,EAAA,QAAA,EAAA,kBAAA,EAAA,mBAAA,EAAA,oBAAA,EAAA,eAAA,EAAA,cAAA,EAAA,aAAA,EAAA,0BAAA,EAAA,4BAAA,EAAA,wBAAA,EAAA,0BAAA,EAAA,wBAAA,EAAA,0BAAA,EAAA,2BAAA,EAAA,yBAAA,EAAA,YAAA,EAAA,iBAAA,EAAA,oBAAA,EAAA,wBAAA,EAAA,sBAAA,EAAA,iBAAA,EAAA,KAAA,EAAA,QAAA,EAAA,UAAA,EAAA,WAAA,EAAA,mBAAA,EAAA,YAAA,EAAA,eAAA,EAAA,iBAAA,EAAA,QAAA,EAAA,YAAA,EAAA,QAAA,EAAA,MAAA,EAAA,QAAA,CAAA,EAAA,EAAA,EAAA,IAAA,EAAA,WAAA,EAAA,IAAA,EAAA,EAAA,CAAA,oBAAA,EAAA,QAAA,EAAA,0BAAA,EAAA,MAAA,EAAA,CAAA,cAAA,EAAA,OAAA,EAAA,SAAA,EAAA,sBAAA,EAAA,MAAA,CAAA,EAAA,CAAA,EAAA,aAAA,EAAA,EAAA,CAAA,iBAAA,CAAA,IAAA,EAAA,CAAA,CAAA;2FAIU,gBAAgB,EAAA,UAAA,EAAA,CAAA;kBAf5B,SAAS;AACE,YAAA,IAAA,EAAA,CAAA,EAAA,QAAA,EAAA,aAAa,EACb,QAAA,EAAA,CAAA;;;;;;;;;GAST,EAEgB,aAAA,EAAA,iBAAiB,CAAC,IAAI,EAAA,MAAA,EAAA,CAAA,85VAAA,CAAA,EAAA,CAAA;0EAGG,MAAM,EAAA,CAAA;sBAA7C,SAAS;AAAC,gBAAA,IAAA,EAAA,CAAA,QAAQ,EAAE,EAAE,MAAM,EAAE,KAAK,EAAE,CAAA;;;MCR7B,aAAa,CAAA;;0GAAb,aAAa,EAAA,IAAA,EAAA,EAAA,EAAA,MAAA,EAAA,EAAA,CAAA,eAAA,CAAA,QAAA,EAAA,CAAA,CAAA;AAAb,aAAA,CAAA,IAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,aAAa,EATtB,YAAA,EAAA,CAAA,gBAAgB,CAGd,EAAA,OAAA,EAAA,CAAA,YAAY,aAGd,gBAAgB,CAAA,EAAA,CAAA,CAAA;AAGP,aAAA,CAAA,IAAA,GAAA,EAAA,CAAA,mBAAA,CAAA,EAAA,UAAA,EAAA,QAAA,EAAA,OAAA,EAAA,QAAA,EAAA,QAAA,EAAA,EAAA,EAAA,IAAA,EAAA,aAAa,YANpB,YAAY,CAAA,EAAA,CAAA,CAAA;2FAML,aAAa,EAAA,UAAA,EAAA,CAAA;kBAXzB,QAAQ;AAAC,YAAA,IAAA,EAAA,CAAA;AACR,oBAAA,YAAY,EAAE;wBACZ,gBAAgB;AACjB,qBAAA;AACD,oBAAA,OAAO,EAAE;wBACL,YAAY;AACf,qBAAA;AACD,oBAAA,OAAO,EAAE;wBACP,gBAAgB;AACjB,qBAAA;AACF,iBAAA,CAAA;;;AChBD;;AAEG;;ACFH;;AAEG;;;;"}